<html>
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
        <link rel="stylesheet" href="static/css/index.css">
        <script
            src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
            crossorigin="anonymous"
        ></script>
        <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>

    </head>

    <body>
        <div class="ui container" id="header">
        </div>
        <div class="ui container" id="content">
            <div class="ui centered">
                <h3 id="title">Aortic Valve Stenosis Calculator</h4>
            </div>
            <br />

            <form action="/" method="POST">
                <div class="ui centered vertically divided equal width stackable grid">
                    <div class="two column row">
                        <div class="left aligned middle aligned column">
                            <label class="">Transvalvular flow rate</label>
                        </div>
                        <div class="right aligned middle aligned column">
                            <div class="ui right labeled fluid input">
                                <input required
                                    oninvalid="this.setCustomValidity('Please provide transvalvular flow rate.')"
                                    oninput="this.setCustomValidity('')"
                                    type="number"
                                    step=.01
                                    name="tFlow"
                                />
                                <div class="ui label">mL/s</div>
                            </div>
                        </div>
                    </div>

                    <div class="two column row">
                        <div class="left aligned middle aligned column">
                            <label class="">Mean pressure gradient across aortic valve</label>
                        </div>
                        <div class="right aligned middle aligned column">
                            <div class="ui right labeled fluid input">
                                <input required
                                    oninvalid="this.setCustomValidity('Please provide patient\'s pressure.')"
                                    oninput="this.setCustomValidity('')"
                                    type=number
                                    step=.01
                                    name="pressure"
                                />
                                <div class="ui label">mmHg</div>
                            </div>
                        </div>
                    </div>

                    <div class="two column row">
                        <div class="left aligned middle aligned column">
                            <label class="">Aortic valve area</label>
                        </div>
                        <div class="right aligned middle aligned column">
                            <div class="ui right labeled fluid input">
                                <input required
                                    oninvalid="this.setCustomValidity('Please provide patient\'s valve area.')"
                                    oninput="this.setCustomValidity('')"
                                    type=number
                                    step=.01
                                    name="area"
                                />
                                <div class="ui label"> cm<sup>2</sup></div>
                            </div>
                        </div>
                    </div>

                    <div class="two column row">
                        <div class="left aligned middle aligned column">
                            <label class="">Congestive heart failure (CHF) at baseline</label>
                        </div>
                        <div class="right aligned middle aligned column">
                            <div class="ui radio checkbox yes_no3" style="">
                                <input
                                    required
                                    oninvalid="this.setCustomValidity('Please provide baseline CHF.')"
                                    oninput="resetRadioValidity()"
                                    type="radio"
                                    name="yes_no3"
                                    id="yn3-off"
                                    value="false"
                                />
                                <input
                                    required
                                    oninvalid="this.setCustomValidity('Please provide baseline CHF.')"
                                    oninput="resetRadioValidity()"
                                    type="radio"
                                    name="yes_no3"
                                    id="yn3-on"
                                    value="true"
                                />
                            </div>
                            <div class="two ui buttons">
                                <label for="yn3-off" class="ui button fluid opaque uncheck yes_no3" onclick="markButton(event, 'yes_no3');">No</label>
                                <label for="yn3-on" class="ui button fluid opaque check yes_no3" onclick="markButton(event, 'yes_no3');">Yes</label>
                            </div>
                        </div>
                    </div>

                    <div class="two column row">
                        <div class="left aligned middle aligned column">
                            <label class="">Myocardial infarction (MI) at baseline</label>
                        </div>
                        <div class="right aligned middle aligned column">
                            <div class="ui radio checkbox yes_no4" style="">
                                <input
                                    required
                                    oninvalid="this.setCustomValidity('Please provide baseline MI.')"
                                    oninput="resetRadioValidity()"
                                    type="radio"
                                    name="yes_no4"
                                    id="yn4-off"
                                    value="false"
                                />
                                <input
                                    required
                                    oninvalid="this.setCustomValidity('Please provide baseline MI.')"
                                    oninput="resetRadioValidity()"
                                    type="radio"
                                    name="yes_no4"
                                    id="yn4-on"
                                    value="true"
                                />
                            </div>
                            <div class="two ui buttons">
                                <label for="yn4-off" class="ui button opaque uncheck yes_no4" onclick="markButton(event, 'yes_no4');">No</label>
                                <label for="yn4-on" class="ui button opaque check yes_no4" onclick="markButton(event, 'yes_no4');">Yes</label>
                            </div>
                        </div>
                    </div>

                    <div class="two column row">
                        <div class="left aligned middle aligned column">
                            <label class="">Peripheral vascular disease (PVD) at baseline</label>
                        </div>
                        <div class="right aligned middle aligned column">
                            <div class="ui radio checkbox yes_no5">
                                <input
                                    required
                                    oninvalid="this.setCustomValidity('Please provide baseline PVD.')"
                                    oninput="resetRadioValidity()"
                                    type="radio"
                                    name="yes_no5"
                                    id="yn5-off"
                                    value="false"
                                />
                                <input
                                    required
                                    oninvalid="this.setCustomValidity('Please provide baseline PVD.')"
                                    oninput="resetRadioValidity()"
                                    type="radio"
                                    name="yes_no5"
                                    id="yn5-on"
                                    value="true"
                                />
                            </div>
                            <div class="two ui buttons">
                                <label for="yn5-off" class="ui button opaque uncheck yes_no5" onclick="markButton(event, 'yes_no5');">No</label>
                                <label for="yn5-on" class="ui button opaque check yes_no5" onclick="markButton(event, 'yes_no5');">Yes</label>
                            </div>
                        </div>
                    </div>

                    <div class="two column row">
                        <div class="left aligned middle aligned column">
                            <label class="">Left ventricular segmental wall motion abnormality</label>
                        </div>
                        <div class="right aligned middle aligned column">
                            <div class="ui radio checkbox yes_no6">
                                <input
                                    required
                                    oninvalid="this.setCustomValidity('Please provide the motion abnormality.')"
                                    oninput="resetRadioValidity()"
                                    type="radio"
                                    name="yes_no6"
                                    id="yn6-off"
                                    value="false"
                                />
                                <input
                                    required
                                    oninvalid="this.setCustomValidity('Please provide the motion abnormality.')"
                                    oninput="resetRadioValidity()"
                                    type="radio"
                                    name="yes_no6"
                                    id="yn6-on"
                                    value="true"
                                />
                            </div>
                            <div class="two ui buttons">
                                <label for="yn6-off" class="ui button opaque uncheck yes_no6" onclick="markButton(event, 'yes_no6');">No</label>
                                <label for="yn6-on" class="ui button opaque check yes_no6" onclick="markButton(event, 'yes_no6');">Yes</label>
                            </div>
                        </div>
                    </div>

                    <div class="two column row">
                        <div class="left aligned middle aligned column">
                            <label class="">Hyperlipidemia at baseline</label>
                        </div>
                        <div class="right aligned middle aligned column">
                            <div class="ui toggle checkbox yes_no7">
                                <input
                                    required
                                    oninvalid="this.setCustomValidity('Please provide baseline hyperlipidemia.')"
                                    oninput="resetRadioValidity()"
                                    type="radio"
                                    name="yes_no7"
                                    id="yn7-off"
                                    value="false"
                                />
                                <input
                                    required
                                    oninvalid="this.setCustomValidity('Please provide the motion abnormality.')"
                                    oninput="resetRadioValidity()"
                                    type="radio"
                                    name="yes_no7"
                                    id="yn7-on"
                                    value="true"
                                />
                            </div>
                            <div class="two ui buttons">
                                <label for="yn7-off" class="ui button opaque uncheck yes_no7" onclick="markButton(event, 'yes_no7');">No</label>
                                <label for="yn7-on" class="ui button opaque check yes_no7" onclick="markButton(event, 'yes_no7');">Yes</label>
                            </div>
                        </div>
                    </div>

                    <div class="two column row">
                        <div class="left aligned middle aligned column">
                            <label class="">Chronic kidney disease (CKD) at baseline</label>
                        </div>
                        <div class="right aligned middle aligned column">
                            <div class="ui radio checkbox yes_no8">
                                <input
                                    required
                                    oninvalid="this.setCustomValidity('Please provide baseline CKD.')"
                                    oninput="resetRadioValidity()"
                                    type="radio"
                                    name="yes_no8"
                                    id="yn8-off"
                                    value="false"
                                />
                                <input
                                    required
                                    oninvalid="this.setCustomValidity('Please provide baseline CKD.')"
                                    oninput="resetRadioValidity()"
                                    type="radio"
                                    name="yes_no8"
                                    id="yn8-on"
                                    value="true"
                                />
                            </div>
                            <div class="two ui buttons">
                                <label for="yn8-off" class="ui button opaque uncheck yes_no8" onclick="markButton(event, 'yes_no8');">No</label>
                                <label for="yn8-on" class="ui button opaque check yes_no8" onclick="markButton(event, 'yes_no8');">Yes</label>
                            </div>
                        </div>
                    </div>

                    <div class="two column row">
                        <div class="left aligned middle aligned column">
                            <label class="">Posterior wall thickness</label>
                        </div>
                        <div class="right aligned middle aligned column">
                            <div class="ui right labeled fluid input">
                                <input required
                                    oninvalid="this.setCustomValidity('Please provide patient\'s posterior wall thickness.')"
                                    oninput="this.setCustomValidity('')"
                                    type=number
                                    step=.01
                                    name="thickness"
                                />
                                <div class="ui label"> mm </div>
                            </div>
                        </div>
                    </div>

                    <div class="two column row">
                        <div class="left aligned middle aligned column">
                            <label class="">Aortic sinus diameter</label>
                        </div>
                        <div class="right aligned middle aligned column">
                            <div class="ui right labeled fluid input">
                                <input required
                                    oninvalid="this.setCustomValidity('Please provide patient\'s aortic sinus diameter.')"
                                    oninput="this.setCustomValidity('')"
                                    type=number
                                    step=.01
                                    name="diameter"
                                />
                                <div class="ui label"> mm </div>
                            </div>
                        </div>
                    </div>
                </div>

                <input class="fluid ui button" id="submit" type="submit" value="Submit" >
            </form>

        <script type="text/javascript">
            function markButton(event, className) {
                // green to denote, disabled so cannot be clicked again
                $(".button." + className).removeClass("green");
                $(".button." + className).removeClass("disabled");
                $(event.target).addClass("green");
                $(event.target).addClass("disabled");
            }

            function resetRadioValidity(event) {
                var rad = document.querySelectorAll('input[type=radio]')
                rad.forEach(function(r) {
                    r.setCustomValidity('')
                });
            }

            function logTarget(event) {
                console.log(event.target.value);
            }
        </script>
    </body>
</html>
